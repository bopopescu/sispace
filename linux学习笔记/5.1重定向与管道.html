<html>
<head>
  <title>5.1重定向与管道</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308859 (zh-CN, MWS); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2399"/>
<h1>5.1重定向与管道</h1>

<div>
<span><div><ol><li><div><span style="font-size: 12pt; font-weight: bold;">重定向：</span></div></li></ol><div>        1）标准输入            0</div><div>        2）标准输出            1</div><div>        3）错误输出            2</div><ol start="2"><li><div><font style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">重定向的符号问题：</span></font></div></li></ol><div>        1）&amp;操作，&amp;遇到1或者2的时候有转义的功能</div><div>        2）&gt;</div><div>        3)   &gt;&gt;</div><div>        4)   &lt;</div><div>        5)   &lt;&lt;</div><div>        注意&amp;的优先级比较低，因而都是别人处理完才到他处理的。</div><ol start="3"><li><div><span style="font-size: 12pt; font-weight: bold;">输入重定向操作与解析</span></div></li></ol><div><span style="font-size: 10pt;">      </span> <span style="background-color: rgb(255, 250, 165);font-size: 10pt;-evernote-highlight:true;"> </span><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">通俗的讲，重定向输出就是把要输出的文件信息写入到一个文件中去，而不是将要输出的文件信息输出到控制台（显示屏）</span></div><div>        1）将标准输出与错误输出到同一个文件</div><div>        <img src="5.1重定向与管道_files/Image.png" type="image/png" data-filename="Image.png"/></div><div>        2）将标准的输出与错误的输出到不同的文件。</div><div>              注意下面的find命令的1，默认是可以去除的。</div><div>        <img src="5.1重定向与管道_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div>        在实验的过程中发现，find没找到，返回值为空。为了观察效果使用如下的检测实例：</div><div>        <img src="5.1重定向与管道_files/Image [2].png" type="image/png" data-filename="Image.png"/></div><div>        3）重定向脚本的使用</div><div>        <img src="5.1重定向与管道_files/Image [3].png" type="image/png" data-filename="Image.png"/></div><div>        5）输入重定向的软件使用：</div><div>        <img src="5.1重定向与管道_files/Image [4].png" type="image/png" data-filename="Image.png"/></div><div>        <img src="5.1重定向与管道_files/Image [5].png" type="image/png" data-filename="Image.png"/></div><div>        具体讲解：</div><div>        <img src="5.1重定向与管道_files/Image [6].png" type="image/png" data-filename="Image.png"/></div><ol start="4"><li><div>输入辨析总结</div></li></ol><div>           1）     <span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: &quot;Courier new&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">&gt; 默认为标准输出重定向，与 1&gt; 相同</span></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: &quot;Courier new&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">     2） 2&gt;&amp;1 意思是把 标准错误输出 重定向到 标准输出.</span></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: &quot;Courier new&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">     3） &amp;&gt;file 意思是把 标准输出 和 标准错误输出 都重定向到文件file中</span></div><ol start="5"><li><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165); font-size: 12pt; font-weight: bold;-evernote-highlight:true;">输入重定向</span></span></div></li></ol><div><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;">        </span></span><span style="font-size: 12pt;"><span style="font-size: 12pt; font-weight: bold;"><img src="5.1重定向与管道_files/Image [7].png" type="image/png" data-filename="Image.png"/></span></span></div><div><span style="font-size: 12pt; font-weight: bold;">    </span><span style="font-size: 12pt; font-weight: bold;"> </span> <span style="font-size: 10pt;">  输入重定向的案例</span></div><div><span style="font-size: 10pt;">         </span>#cat  /etc/passwd 它是以键盘作为标准输入设备，并将文件内容显示到控制台</div><div>         语法1: # cat &lt; /etc/passwd     </div><div>         而输入重定向，cat &lt; /etc/passwd ，它是将passwd文件指定为输入设备，并将内容显示到控制台。</div><div>         # cat  /etc/passwd  &lt; a  &gt; b.txt   ：将文件passwdt输入重定向到a，输出重定向到b.txt文件   </div><div>        1）使用dd创建一个自定义大小的文件，要求：</div><div>        <img src="5.1重定向与管道_files/Image [8].png" type="image/png" data-filename="Image.png"/></div><div>        扩展理解/dev/zero</div><div>         <img src="5.1重定向与管道_files/Image [9].png" type="image/png" data-filename="Image.png" width="627"/></div><div>         顺带讲解：dd主要是对磁盘进行处理的。否则不能生成指定大小的文件</div><div>         <img src="5.1重定向与管道_files/Image [10].png" type="image/png" data-filename="Image.png"/></div><div>        2）多行输入，这种输入的方式常用来处理，脚本的模板应用。</div><div>         <img src="5.1重定向与管道_files/Image [11].png" type="image/png" data-filename="Image.png"/></div><div>        </div><ol start="6"><li><div>管道tee的使用</div></li></ol><div>         <img src="5.1重定向与管道_files/Image [12].png" type="image/png" data-filename="Image.png"/></div><div>         理解的步骤为：</div><div>         [root@izm5e9ftqv2b80n7cnta5bz ~]# ip addr | grep 'inet '</div><div>            inet 127.0.0.1/8 scope host lo</div><div>            inet 172.31.217.181/20 brd 172.31.223.255 scope global dynamic eth0</div><div>        [root@izm5e9ftqv2b80n7cnta5bz ~]# ip addr | grep 'inet '|tee ip.txt|awk -F '/' '{print $1}'</div><div>            inet 127.0.0.1</div><div>            inet 172.31.217.181</div><div>        [root@izm5e9ftqv2b80n7cnta5bz ~]# ip addr | grep 'inet '|tee ip.txt|awk -F '/' '{print $1}'|awk '{print $2}'</div><div>            127.0.0.1</div><div>            172.31.217.181</div><div>        [root@izm5e9ftqv2b80n7cnta5bz ~]# ip addr | grep 'inet '|tee ip.txt|awk -F / '{print $1}'|awk '{print $2}'</div><div>            127.0.0.1</div><div>            172.31.217.181</div><div>        很显然，tee起到一个中继保存的功能。</div><div><br/></div><ol start="7"><li><div>在管道中常见：</div></li></ol><div>         <img src="5.1重定向与管道_files/Image [13].png" type="image/png" data-filename="Image.png" width="665"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 