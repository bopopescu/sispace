<html>
<head>
  <title>简易部署docker</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308859 (zh-CN, MWS); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1396"/>
<h1>简易部署docker</h1>

<div>
<span><div style="margin-top: 1em; margin-bottom: 1em;">一）初步必须的三个命令</div><div style="margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;">[root@xuegod63 yum.repos.d]# yum -y install docker  </span></div><div><span style="font-size: 9pt;">启动docker平台：</span></div><div><span style="font-size: 9pt;">[root@xuegod63 ~]# systemctl start docker   #启动 docker 服务</span></div><div><span style="font-size: 9pt;">[root@xuegod63 ~]# systemctl enable docker  #设置开机启动docker服务</span></div></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 9pt;"><b>二）基本查看命令：</b></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;">[root@xuegod63 ~]# docker version    #显示 Docker 版本信息</span></div><div><span style="font-size: 9pt;">[root@xuegod63 ~]# docker info   #查看 docker 信息（确认服务运行）显示 Docker 系统信息，包括镜像和容器数。</span></div></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 9pt;"><b>内容详解：</b></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt; color: rgb(255, 0, 0);">Backing Filesystem: xfs</span></div><div><span style="font-size: 9pt; color: rgb(255, 0, 0);">Network: bridge host macvlan null overlay   #桥接到主机的docker0上，在物理机上执行 ifconfig可以看到docker0桥设备</span></div><div><span style="font-size: 9pt; color: rgb(255, 0, 0);">Docker Root Dir: /var/lib/docker   ##默认的docker的家目录</span></div><div><span style="font-size: 9pt; color: rgb(255, 0, 0);">Registry: https://index.docker.io/v1/   #默认的dockerhub的镜像源</span></div></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; color: red;-en-paragraph:true;">搜索</span> <span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; color: red;-en-paragraph:true;">images【这是一个习惯使用的命令，但初学者几乎用不到】</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif;-en-paragraph:true;">[root@xuegod63 ~]# docker search centos</span><span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; mso-spacerun: yes;-en-paragraph:true;"> </span> <span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif;-en-paragraph:true;">#</span><span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif;-en-paragraph:true;">从</span> <span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif;-en-paragraph:true;">Docker Hub</span> <span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif;-en-paragraph:true;">中搜索符合条件的镜像。</span><span style="font-size: 9pt; color: rgb(255, 0, 0);"><br/></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; font-size: 9pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">三）</span><span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; color: red;-en-paragraph:true;">从公网</span><span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; color: red;-en-paragraph:true;">docker hub</span> <span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; color: red;-en-paragraph:true;">拉取（下载）</span><span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; color: red;-en-paragraph:true;">image</span><span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; color: red; mso-spacerun: yes;-en-paragraph:true;">  </span> <span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; color: red;-en-paragraph:true;">pull</span><span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; color: red;-en-paragraph:true;">：拉</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif;-en-paragraph:true;">[root@xuegod63 ~]# docker pull docker.io/centos</span><br/></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif;-en-paragraph:true;">四）查看</span> <span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif;-en-paragraph:true;">images</span> <span style="font-weight: bold; mso-bidi-font-weight: normal; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif;-en-paragraph:true;">列表</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;">[root@xuegod63 ~]# docker images  #列出本地所有镜像。其中 [name] 对镜像名称进行关键词查询。</span></div><div><span style="font-size: 9pt;">REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE</span></div><div><span style="font-size: 9pt;">docker.io/centos    latest              8caf41e7a3ea        31 minutes ago      205.3 MB</span></div></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-weight: bold; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: Arial; mso-font-kerning: 0pt;-en-paragraph:true;">五）开启动网络转发功能</span></div><div style="text-indent: 18pt; margin-top: 1em; margin-bottom: 1em;"><span style="text-indent: 18pt; font-weight: bold; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: Arial; mso-font-kerning: 0pt;-en-paragraph:true;">开启动网络转发功能，默认会自动开启</span><span style="text-indent: 18pt; font-weight: bold; font-size: 9.0pt; font-family: &quot;微软雅黑&quot;,sans-serif; mso-bidi-font-family: Arial; mso-font-kerning: 0pt;-en-paragraph:true;">.</span></div><div style="text-indent: 18pt; margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 9pt;">[root@xuegod63 ~]# vim /etc/sysctl.conf  #插入以下内容</span></div><div><span style="font-size: 9pt;">net.ipv4.ip_forward = 1</span></div><div><span style="font-size: 9pt;">[root@xuegod63 ~]# sysctl  -p   #生效</span></div><div><span style="font-size: 9pt;">net.ipv4.ip_forward = 1</span></div><div><span style="font-size: 9pt;">[root@xuegod63 ~]# cat /proc/sys/net/ipv4/ip_forward【结果为1，才是有效的】</span></div></div></div><div style="text-indent: 18pt; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 9pt;"><b><br/></b></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 9pt;"><br/></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 9pt;"><b><br/></b></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 9pt;"><b><br/></b></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 9pt;"><b><br/></b></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 9pt;"><b><br/></b></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 9pt;"><b><br/></b></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 9pt;"><b><br/></b></span></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 9pt;"><b><br/></b></span></div></span>
</div></body></html> 